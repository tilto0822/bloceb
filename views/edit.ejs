<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta charset="utf-8" />
        <% if (isLogin == false && isAuthor == false) { %>
        <meta http-equiv="refresh" content="0; url=/project" />
        <% } %>
        <title><%= title %></title>
        <link rel="stylesheet" href="/fonts/fonts.css" />
        <link
            href="assets/vendor/bootstrap/css/bootstrap.min.css"
            rel="stylesheet"
        />
        <link
            href="assets/vendor/bootstrap-icons/bootstrap-icons.css"
            rel="stylesheet"
        />
        <link
            href="assets/vendor/boxicons/css/boxicons.min.css"
            rel="stylesheet"
        />
        <link
            href="assets/vendor/glightbox/css/glightbox.min.css"
            rel="stylesheet"
        />
        <link
            href="assets/vendor/swiper/swiper-bundle.min.css"
            rel="stylesheet"
        />
        <link rel="stylesheet" href="/fontawesome/css/all.min.css" />
        <link rel="stylesheet" href="/css/edit.css" />
        <script src="/js/jquery-3.6.0.min.js"></script>
        <script src="/js/blockly_compressed.js"></script>
        <script src="/js/blocks_compressed.js"></script>
        <script src="/js/javascript_compressed.js"></script>
        <script src="/js/blockly_ko.js"></script>
    </head>
    <% if (isLogin == true && isAuthor == true) { %>
    <body>
        <div class="position-fixed bottom-0 end-0 p-3" style="z-index: 999">
            <div
                class="toast align-items-center text-white bg-success border-0"
                role="alert"
                aria-live="assertive"
                aria-atomic="true"
                id="alert-toast"
            >
                <div class="d-flex">
                    <div class="toast-body">
                        Hello, world! This is a toast message.
                    </div>
                    <button
                        type="button"
                        class="btn-close btn-close-white me-2 m-auto"
                        data-bs-dismiss="toast"
                        aria-label="Close"
                    ></button>
                </div>
            </div>
        </div>

        <input type="text" id="puuid" style="display: none" value="" />
        <div id="popup-user">
            <a class="title clickable">
                로그인 중 :<br />
                <div class="head"><%= userData.nickname %></div>
            </a>
            <hr />
            <a class="menu clickable" href="/user/<%= userData.nickname %>"
                >내 정보</a
            >
            <a class="menu clickable" href="/project/<%= userData.nickname %>"
                >내 프로젝트</a
            >
            <hr />
            <a id="logout" class="menu clickable" href="/api/users/logout"
                >로그아웃</a
            >
        </div>
        <header class="site-header">
            <a class="site-logo clickable">bloceb</a>
            <div class="view-select">
                <div id="edit-mode" class="clickable menus edit-mode selected">
                    편집하기
                </div>
                <div id="view-mode" class="clickable menus view-mode">
                    미리보기
                </div>
            </div>
            <div class="site-menu">
                <div class="menu-select clickable" id="save-project">
                    <i class="fas fa-save clickable"></i>
                </div>
                <div class="menu-select clickable" id="config-project">
                    <i class="fas fa-cog clickable"></i>
                </div>
                <div class="menu-select clickable" id="user-popup">
                    <i class="fas fa-user clickable"></i>
                </div>
            </div>
        </header>
        <iframe id="viewDiv" style="display: none" src="/"></iframe>
        <div id="blocklyDiv" style="width: 100%; height: 100%"></div>

        <xml id="toolbox" style="display: none">
            <!--    <block type="controls_repeat_ext">-->
            <!--        <value name="TIMES">-->
            <!--            <shadow type="math_number">-->
            <!--                <field name="NUM">5</field>-->
            <!--            </shadow>-->
            <!--        </value>-->
            <!--    </block>-->
            <block type="page"></block>
            <block type="wrapper_header"> </block>
            <block type="header_menus"></block>
            <block type="image_section"></block>
            <block type="title_section"></block>
            <block type="content_icon_box"></block>
            <block type="image_context_box"></block>

            <block type="boxicon"></block>
            <!--    <block type="vertical_container"></block>-->
        </xml>

        <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
        <script src="assets/vendor/glightbox/js/glightbox.min.js"></script>
        <script src="assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
        <script src="assets/vendor/purecounter/purecounter.js"></script>
        <script src="assets/vendor/swiper/swiper-bundle.min.js"></script>
        <script src="/js/global.js"></script>
        <script src="/js/block/boxicon.js"></script>
        <script src="/js/block/content_box.js"></script>
        <script src="/js/block/header.js"></script>
        <script src="/js/block/section_image.js"></script>
        <script src="/js/block/section_title.js"></script>
        <script src="/js/edit.js"></script>
    </body>
    <% } %>
</html>
